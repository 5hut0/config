#!/usr/local/bin/zsh
selectType=()
selectType+=("Update Homebrew")
selectType+=("Update npm modules")
selectType+=("Update dotfiles")
selectType+=("Relink dotfiles")
selectType+=("Reinstall Xvim")

for v in $selectType; do
 echo $v
done | peco | while read i; do

case $i in

#==============================================================================
# Update Homebrew
#==============================================================================
"Update Homebrew")
cat << 'EOT'
 _   _                      _
| | | | ___  _ __ ___   ___| |__  _ __ _____      __
| |_| |/ _ \| '_ ` _ \ / _ \ '_ \| '__/ _ \ \ /\ / /
|  _  | (_) | | | | | |  __/ |_) | | |  __/\ V  V /
|_| |_|\___/|_| |_| |_|\___|_.__/|_|  \___| \_/\_/

EOT
echo 'Update Homebrew'
brew update
brew upgrade
brew cleanup
brew linkapps macvim
;;

#==============================================================================
# Reinstall Xvim
#==============================================================================
"Reinstall Xvim")
cat << 'EOT'
__  __      _
\ \/ /_   _(_)_ __ ___
 \  /\ \ / / | '_ ` _ \
 /  \ \ V /| | | | | | |
/_/\_\ \_/ |_|_| |_| |_|

EOT
echo 'Reinstall Xvim'
rm -rf ~/.config/local/XVim
git clone https://github.com/XVimProject/XVim ~/.config/local/XVim
cd ~/.config/local/XVim
make
;;

#==============================================================================
# Update npm modules
#==============================================================================
"Update npm modules")
cat << 'EOT'

 _ __  _ __  _ __ ___
| '_ \| '_ \| '_ ` _ \
| | | | |_) | | | | | |
|_| |_| .__/|_| |_| |_|
      |_|
EOT
echo 'Update npm modules'
npm upgrade -g
;;

#==============================================================================
# Relink dotfiles
#==============================================================================
"Relink dotfiles")
cat << 'EOT'
 ____      _ _       _
|  _ \ ___| (_)_ __ | | __
| |_) / _ \ | | '_ \| |/ /
|  _ <  __/ | | | | |   <
|_| \_\___|_|_|_| |_|_|\_\

EOT
echo 'Relink dotfiles'
sh ~/.config/scripts/link_dotfiles.sh
;;

#==============================================================================
# Update dotfiles
#==============================================================================
"Update dotfiles")
cat << 'EOT'
 _   _           _       _             _       _    __ _ _
| | | |_ __   __| | __ _| |_ ___    __| | ___ | |_ / _(_) | ___  ___
| | | | '_ \ / _` |/ _` | __/ _ \  / _` |/ _ \| __| |_| | |/ _ \/ __|
| |_| | |_) | (_| | (_| | ||  __/ | (_| | (_) | |_|  _| | |  __/\__ \
 \___/| .__/ \__,_|\__,_|\__\___|  \__,_|\___/ \__|_| |_|_|\___||___/
      |_|
EOT
echo 'Update dotfiles'
cd ~/.config
git pull origin
git submodule update --init --recursive

echo 'Update prezto'
cd ~/.config/zsh/.zprezto
git pull origin master
;;

esac
done
